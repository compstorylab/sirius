
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Home Page</title>
        <script src="./scripts/plotly.min.js" type="text/javascript"></script>

    </head>
    <body>
        <div id="chart"></div>
    </body>

    <script type="text/javascript">
        let data = {x:[], y:[]}
        for (let i = 0; i < 100; i ++) {
            data['x'].push(Math.floor(5.0 * Math.random()))
            data['y'].push(Math.floor(5.0 * Math.random()))
        }

        let x_labels = unique(data['x']);
        let y_labels = unique(data['y']);

        let x_label_index = get_label_index_dict(x_labels);
        let y_label_index = get_label_index_dict(y_labels);

        let counts = new Array();
        for(let i = 0; i < y_labels.length; i++){
            let arr = new Array();
            for (let j = 0; j < x_labels.length; j++) {
                arr.push(0);
            }
            counts.push(arr);
        }

        let count_max = -99999;
        let count_min = 99999;
        let n = data['x'].length;
        for (let i = 0; i < n; i++){
            let x = data['x'][i];
            let y = data['y'][i];
            
            counts[y_label_index[y]][x_label_index[x]] ++

            count_max = Math.max(counts[y_label_index[y]][x_label_index[x]], count_max)
            count_min = Math.min(counts[y_label_index[y]][x_label_index[x]], count_min)
        }

        var chartData = [
            {
                z: counts,
                x: x_label_index,
                y: y_label_index,
                type: 'heatmap',
                hoverongaps: false
            }
        ];

        Plotly.newPlot('chart', chartData);

        function unique(arr){
            return Array.from(new Set(arr))
        }

        function get_label_index_dict(labels){
            let d = {};
            for (let i = 0; i < labels.length; i++) {
                d[labels[i]] = i;
            }
            return d
        }


    
    </script>

</html>